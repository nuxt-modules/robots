---
title: Bot Detection
description: Detect and classify bots with server-side header analysis and client-side browser fingerprinting.
---

## Introduction

Bot detection helps you identify automated traffic to better understand your visitors and optimize your site's behavior for different user types.

The module provides comprehensive bot detection that works on both server and client side, identifying everything from search engine crawlers to malicious automation tools.

## Basic Usage

The `useBotDetection()` composable provides reactive access to bot detection results:

```vue
<script setup>
const { isBot, botInfo } = useBotDetection()
</script>

<template>
  <div v-if="isBot">
    Bot detected: {{ botInfo?.name }}
  </div>
  <div v-else>
    Human visitor
  </div>
</template>
```

## Detection Methods

### Server-side Detection

Analyzes HTTP headers and user agents to identify known bots:

- Search engines (Google, Bing, Yandex)
- Social media crawlers (Twitter, Facebook)
- SEO tools (Ahrefs, SEMrush)
- AI crawlers (GPT, Claude)
- Security scanners and automation tools

### Client-side Detection

Uses @fingerprintjs/botd to detect automation tools:

- Headless browsers (Chrome, Firefox)
- Automation frameworks (Selenium, Playwright)
- Bot detection tools (PhantomJS, Nightmare)
- Cached results for performance

## Watching Changes

Bot detection state is reactive and can be watched for changes:

```ts
import { watch } from 'vue'

const { isBot, botInfo } = useBotDetection()

watch(isBot, (detected) => {
  if (detected) {
    console.log(`Bot detected: ${botInfo.value?.name}`)
  }
})
```

## Bot Classification

Detected bots are classified by type and trust level:

```ts
const { botInfo } = useBotDetection()

if (botInfo.value) {
  console.log(botInfo.value.type) // 'search-engine', 'social', 'ai', etc.
  console.log(botInfo.value.trusted) // true for legitimate bots
  console.log(botInfo.value.method) // 'server' or 'fingerprint'
}
```

## Server-side Usage

### In Nitro Routes and Middleware

Use the provided server composables:

```ts
// server/api/example.ts
import { getBotDetection, isBot, getBotInfo } from '@nuxtjs/robots/nitro'

export default defineEventHandler(async (event) => {
  // Simple boolean check
  if (isBot()) {
    return { message: 'Bot detected' }
  }
  
  // Get detailed info
  const botInfo = getBotInfo()
  if (botInfo?.trusted) {
    return { message: 'Trusted bot', bot: botInfo.name }
  }
  
  return { message: 'Human user' }
})
```

### Manual Header Analysis

For custom header analysis outside the plugin context:

```ts
import { isBotFromHeaders } from '@nuxtjs/robots/util'

const headers = getHeaders(event)
const detection = isBotFromHeaders(headers)

if (detection.isBot) {
  console.log(`Bot: ${detection.data.botName}`)
}
```

## Nuxt Hooks

The module fires hooks that you can listen to:

```ts
// nuxt.config.ts
export default defineNuxtConfig({
  hooks: {
    'robots:bot-detected': (data) => {
      console.log('Bot detected:', data)
    },
    'robots:bot-detection-error': (error) => {
      console.error('Detection error:', error)
    }
  }
})
```

## Performance

- Server detection only checks known bot patterns with minimal overhead
- Client detection uses cached results to avoid repeated expensive checks
- Results persist in localStorage across sessions
- Binary decision: either definitively a bot or not detected
