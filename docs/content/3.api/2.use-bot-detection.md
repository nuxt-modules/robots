---
title: useBotDetection()
description: A reactive composable for detecting and classifying bots with optional client-side fingerprinting.
---

## Introduction

**Type:** `function useBotDetection(): UseBotDetectionReturn`{lang="ts"}

```ts
import type { BotInfo, UseBotDetectionReturn } from '@nuxtjs/robots/util'
```

Detect and classify bots using server-side header analysis and optional client-side browser fingerprinting.

The composable provides reactive access to bot detection results with automatic caching. Client-side fingerprinting is opt-in due to performance costs.

**ðŸ”” Important:** Bot detection only runs when you use this composable. No automatic bot detection occurs - it's entirely opt-in based on your usage of this composable.

## Usage

**Basic detection:**

```ts
import { useBotDetection } from '#imports'

const { isBot, botInfo } = useBotDetection()
// isBot: Ref<boolean>
// botInfo: ComputedRef<BotInfo | null>
```

**Full API access:**

```ts
const {
  isBot, // Whether a bot was detected
  botInfo, // Bot details (type, name, trusted)
  context, // Complete detection context
  updateContext, // Manual context updates
  reset, // Clear detection state
  enableFingerprinting // Manually trigger fingerprinting
} = useBotDetection()
```

**Watching for changes:**

```ts
import { watch } from 'vue'

const { isBot, botInfo } = useBotDetection()

watch(isBot, (detected) => {
  if (detected) {
    // Handle bot detection
  }
})
```

## Return Type

```ts
interface UseBotDetectionReturn {
  context: ComputedRef<BotDetectionContext | null>
  isBot: ComputedRef<boolean>
  botInfo: ComputedRef<BotInfo | null>
  updateContext: (newContext: BotDetectionContext) => void
  reset: () => void
  enableFingerprinting: () => Promise<BotDetectionContext | false>
}
```

## Return Value

### `isBot`

**Type:** `ComputedRef<boolean>`

Reactive boolean indicating whether a bot was detected.

### `botInfo`

**Type:** `ComputedRef<BotInfo | null>`

Computed bot information, `null` for human users:

```ts
interface BotInfo {
  type?: string // 'search-engine', 'social', 'ai', 'automation'
  name?: string // 'googlebot', 'selenium', 'headless_chrome', etc.
  trusted?: boolean // Whether this is a legitimate bot
  method?: 'server' | 'fingerprint' // Detection method used
}
```

### `context`

**Type:** `ComputedRef<BotDetectionContext | null>`

Complete detection context including headers and metadata.

### `updateContext(context)`

**Type:** `(context: BotDetectionContext) => void`

Manually update the detection context.

### `reset()`

**Type:** `() => void`

Clear all detection state and cached results.

### `enableFingerprinting()`

**Type:** `() => Promise<BotDetectionContext | false>`

Manually trigger client-side fingerprinting detection. Returns the full bot context if detected, or `false` if no bot is found.

**Note:** This method only works on the client-side and will return `false` on the server.

## Server Side Behavior

On the server, bot detection runs when you use the composable:

```ts
// Only runs when composable is used
const { isBot, botInfo } = useBotDetection()

if (isBot.value) {
  // Bot detected via server-side analysis
}
```

## Client Side Behavior

Client-side fingerprinting is **manual only** for performance reasons:

```ts
const { enableFingerprinting } = useBotDetection()

// Trigger when needed
const result = await enableFingerprinting()
if (result) {
  console.log('Bot detected:', result.botName)
}
```

## Configuration

### Disabling Bot Detection

You can disable the entire bot detection plugin:

```ts
// nuxt.config.ts
export default defineNuxtConfig({
  robots: {
    botDetection: false
  }
})
```

When disabled, the `useBotDetection` composable will not be available.

## Bot Categories

The following bot types are detected:

- **search-engine**: Google, Bing, Yandex crawlers
- **social**: Twitter, Facebook, LinkedIn bots
- **seo**: Ahrefs, SEMrush, Majestic tools
- **ai**: GPT, Claude, Perplexity crawlers
- **automation**: Selenium, Puppeteer, WebDriver
- **security-scanner**: nmap, Nikto, ZGrab
- **http-tool**: curl, wget, Python requests
