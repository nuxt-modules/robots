---
title: useBotDetection()
description: A reactive composable for detecting and classifying bots with optional client-side fingerprinting.
---

## Introduction

**Type:** `function useBotDetection(options?: UseBotDetectionOptions): UseBotDetectionReturn`{lang="ts"}

```ts
import type { UseBotDetectionOptions, UseBotDetectionReturn } from '@nuxtjs/robots/util'
```

Detect and classify bots using server-side header analysis and optional client-side browser fingerprinting.

The composable provides reactive access to bot detection results with automatic caching. Client-side fingerprinting is opt-in due to performance costs.

**ðŸ”” Important:** Bot detection only runs when you use this composable. No automatic bot detection occurs - it's entirely opt-in based on your usage of this composable.

## Usage

**Basic detection:**

```ts
import { useBotDetection } from '#imports'

const { isBot, botType, trusted } = useBotDetection()
// isBot: ComputedRef<boolean>
// botType: ComputedRef<string | undefined>
// trusted: ComputedRef<boolean | undefined>
```

**With fingerprinting:**

```ts
const { isBot, botType, trusted, reset } = useBotDetection({
  fingerprint: true,
  onFingerprintError: (error) => {
    console.error('Fingerprint error:', error)
  }
})
```

**Watching for changes:**

```ts
import { watch } from 'vue'

const { isBot, botType } = useBotDetection()

watch(isBot, (detected) => {
  if (detected) {
    console.log(`Bot type: ${botType.value}`)
  }
})
```

## Options

```ts
interface UseBotDetectionOptions {
  fingerprint?: boolean
  onFingerprintError?: (error: Error) => void
}
```

### `fingerprint`

**Type:** `boolean`
**Default:** `false`

Enable automatic client-side fingerprinting when no bot is detected server-side.

### `onFingerprintError`

**Type:** `(error: Error) => void`

Error handler for fingerprinting failures.

## Return Type

```ts
interface UseBotDetectionReturn {
  isBot: ComputedRef<boolean>
  botType: ComputedRef<string | undefined>
  trusted: ComputedRef<boolean | undefined>
  reset: () => void
}
```

## Return Value

### `isBot`

**Type:** `ComputedRef<boolean>`

Reactive boolean indicating whether a bot was detected.

### `botType`

**Type:** `ComputedRef<string | undefined>`

The detected bot type (e.g., 'search-engine', 'social', 'ai', 'automation'). `undefined` if no bot detected.

### `trusted`

**Type:** `ComputedRef<boolean | undefined>`

Whether the detected bot is considered trusted. `undefined` if no bot detected.

### `reset()`

**Type:** `() => void`

Clear all detection state and cached results.

## Server Side Behavior

On the server, bot detection runs when you use the composable:

```ts
// Only runs when composable is used
const { isBot, botType } = useBotDetection()

if (isBot.value) {
  // Bot detected via server-side analysis
  console.log('Bot type:', botType.value)
}
```

## Client Side Behavior

Client-side fingerprinting is automatic when enabled:

```ts
const { isBot, botType } = useBotDetection({
  fingerprint: true,
  onFingerprintError: (error) => {
    console.error('Fingerprinting failed:', error)
  }
})

// Fingerprinting runs automatically if no server detection occurred
```

## Configuration

### Disabling Bot Detection

You can disable the entire bot detection plugin:

```ts
// nuxt.config.ts
export default defineNuxtConfig({
  robots: {
    botDetection: false
  }
})
```

When disabled, the `useBotDetection` composable will not be available.

## Bot Categories

The following bot types are detected:

- **search-engine**: Google, Bing, Yandex crawlers
- **social**: Twitter, Facebook, LinkedIn bots
- **seo**: Ahrefs, SEMrush, Majestic tools
- **ai**: GPT, Claude, Perplexity crawlers
- **automation**: Selenium, Puppeteer, WebDriver
- **security-scanner**: nmap, Nikto, ZGrab
- **http-tool**: curl, wget, Python requests
