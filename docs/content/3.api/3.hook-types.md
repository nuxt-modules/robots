---
title: Hook Types
description: TypeScript interfaces for bot detection hooks and fingerprinting events.
---

## Introduction

The module provides strongly typed hooks for fingerprinting events. All types are exported from `/util` for easy importing.

## Hook Types

### `FingerprintingBotDetectedPayload`

**Type:** `interface FingerprintingBotDetectedPayload`{lang="ts"}

Payload for the `robots:fingerprinting:bot-detected` hook.

```ts
import type { FingerprintingBotDetectedPayload } from '@nuxtjs/robots/util'

export default defineNuxtConfig({
  hooks: {
    'robots:fingerprinting:bot-detected': (data: FingerprintingBotDetectedPayload) => {
      // Strongly typed hook handler
      console.log('Bot type:', data.result.botType)
      console.log('User agent:', data.result.userAgent)
      console.log('Fingerprint bot kind:', data.fingerprint.botKind)
    }
  }
})
```

**Properties:**

```ts
interface FingerprintingBotDetectedPayload {
  method: 'fingerprint'
  result: BotDetectionContext
  fingerprint: BotDetectionResult
}
```

### `FingerprintingErrorPayload`

**Type:** `interface FingerprintingErrorPayload`{lang="ts"}

Payload for the `robots:fingerprinting:error` hook.

```ts
import type { FingerprintingErrorPayload } from '@nuxtjs/robots/util'

export default defineNuxtConfig({
  hooks: {
    'robots:fingerprinting:error': (data: FingerprintingErrorPayload) => {
      console.error('Fingerprinting failed:', data.error)
    }
  }
})
```

**Properties:**

```ts
interface FingerprintingErrorPayload {
  error: any
}
```

### `BotDetectionResult`

**Type:** `import('@fingerprintjs/botd').BotDetectionResult`{lang="ts"}

Official result type from the @fingerprintjs/botd library.

```ts
import type { BotDetectionResult } from '@fingerprintjs/botd'

// The actual interface from the library includes:
interface BotDetectionResult {
  bot: boolean
  botKind?: string
  // Plus other properties as defined by fingerprintjs/botd
}
```

This provides direct access to the official types from the underlying library, ensuring compatibility and access to all available properties.

## Usage Example

```ts
// nuxt.config.ts
import type {
  FingerprintingBotDetectedPayload,
  FingerprintingErrorPayload
} from '@nuxtjs/robots/util'

export default defineNuxtConfig({
  hooks: {
    'robots:fingerprinting:bot-detected': (data: FingerprintingBotDetectedPayload) => {
      // Access processed result
      const { isBot, botType, botName, trusted } = data.result

      // Access raw fingerprint data
      const { bot, botKind } = data.fingerprint

      // Send to analytics, logging, etc.
      console.log({
        detected: isBot,
        type: botType,
        name: botName,
        trusted,
        fingerprintBotKind: botKind,
        userAgent: data.result.userAgent
      })
    },

    'robots:fingerprinting:error': (data: FingerprintingErrorPayload) => {
      // Handle fingerprinting errors
      console.error('Bot detection failed:', data.error)
    }
  }
})
```

## Benefits

- **Type Safety**: Full TypeScript support for all hook payloads
- **Raw Data Access**: Direct access to @fingerprintjs/botd results
- **Flexible Handling**: Use processed results or raw fingerprint data as needed
- **Error Handling**: Proper error types for robust error handling
